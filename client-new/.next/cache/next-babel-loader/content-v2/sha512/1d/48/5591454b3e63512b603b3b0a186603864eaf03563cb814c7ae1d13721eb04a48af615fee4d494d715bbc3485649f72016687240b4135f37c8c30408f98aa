{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\2012b\\\\WebstormProjects\\\\ecommerce-MERN\\\\client-new\\\\src\\\\components\\\\Product\\\\card\\\\ProductItem.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Image from '@/components/Others/image/image';\nimport { Button } from '@/components/Others/button/button';\nimport { ProductCardWrapper, ProductImageWrapper, ProductInfo, ButtonText } from './product-card.style';\nimport { Counter } from '../../cart/counter/counter';\nimport { CartIcon } from '@/assets/icons/CartIcon';\nimport { useDispatch } from \"react-redux\";\nimport { addToCart } from \"@/redux/actions/cartActions\";\nimport { getItemCartQty } from \"@/utils/cartUtils\";\nimport { useSelector } from \"react-redux\";\nimport StarRating from \"@/components/Product/StarRating\";\nimport Link from 'next/link';\n\nvar ProductCard = function ProductCard(_ref) {\n  _s();\n\n  var title = _ref.title,\n      image = _ref.image,\n      price = _ref.price,\n      salePrice = _ref.salePrice,\n      discountInPercent = _ref.discountInPercent,\n      onClick = _ref.onClick,\n      product = _ref.product;\n  var dispatch = useDispatch();\n  var cartState = useSelector(function (state) {\n    return state.cartReducer;\n  });\n\n  var handleAddClick = function handleAddClick(e) {\n    e.stopPropagation();\n    dispatch(addToCart(product, 1));\n  };\n\n  var _useSelector = useSelector(function (state) {\n    return state.shopReducer;\n  }),\n      symbol = _useSelector.currency.symbol;\n\n  var handleRemoveClick = function handleRemoveClick(e) {\n    e.stopPropagation();\n    dispatch(addToCart(product, -1));\n  };\n\n  var cartQuantity = getItemCartQty(cartState, product.id);\n  return /*#__PURE__*/_jsxDEV(ProductCardWrapper, {\n    onClick: onClick,\n    className: \"product-card\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      href: '/product/[slug]',\n      as: \"/product/\".concat(product.id),\n      children: /*#__PURE__*/_jsxDEV(ProductImageWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          url: image,\n          className: \"product-image\",\n          style: {\n            position: 'relative'\n          },\n          alt: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"product-title\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(StarRating, {\n        rating: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-meta\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productPriceWrapper\",\n          children: [discountInPercent ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"discountedPrice\",\n            children: [symbol, price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, _this) : '', /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"product-price\",\n            children: [symbol, salePrice ? salePrice : price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, _this), !cartQuantity ? /*#__PURE__*/_jsxDEV(Button, {\n          className: \"cart-button\",\n          variant: \"secondary\",\n          borderRadius: 100,\n          onClick: handleAddClick,\n          children: [/*#__PURE__*/_jsxDEV(CartIcon, {\n            mr: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(ButtonText, {\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, _this) : /*#__PURE__*/_jsxDEV(Counter, {\n          value: cartQuantity ? cartQuantity : 0,\n          onDecrement: handleRemoveClick,\n          onIncrement: handleAddClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(ProductCard, \"SpNlVQF5uCOHpKBscBK/uzDP5XM=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/components/Product/card/ProductItem.tsx"],"names":["React","Image","Button","ProductCardWrapper","ProductImageWrapper","ProductInfo","ButtonText","Counter","CartIcon","useDispatch","addToCart","getItemCartQty","useSelector","StarRating","Link","ProductCard","title","image","price","salePrice","discountInPercent","onClick","product","dispatch","cartState","state","cartReducer","handleAddClick","e","stopPropagation","shopReducer","symbol","currency","handleRemoveClick","cartQuantity","id","position","name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Image from '@/components/Others/image/image';\r\nimport { Button } from '@/components/Others/button/button';\r\nimport {\r\n    ProductCardWrapper,\r\n    ProductImageWrapper,\r\n    ProductInfo,\r\n    ButtonText,\r\n} from './product-card.style';\r\nimport { Counter } from '../../cart/counter/counter';\r\nimport { CartIcon } from '@/assets/icons/CartIcon';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addToCart} from \"@/redux/actions/cartActions\";\r\nimport {getItemCartQty} from \"@/utils/cartUtils\";\r\n\r\ntype ProductCardProps = {\r\n    title: string;\r\n    image: any;\r\n    price: number;\r\n    salePrice?: number;\r\n    discountInPercent?: number;\r\n    onClick?: (e: any) => void;\r\n    product:any\r\n};\r\nimport {useSelector} from \"react-redux\";\r\nimport StarRating from \"@/components/Product/StarRating\";\r\nimport Link from 'next/link';\r\n\r\nconst ProductCard: React.FC<ProductCardProps> = ({\r\n                                                     title,\r\n                                                     image,\r\n                                                     price,\r\n                                                     salePrice,\r\n                                                     discountInPercent,\r\n                                                     onClick,\r\n                                                     product,\r\n                                                 }) => {\r\n    const dispatch=useDispatch()\r\n    const cartState = useSelector((state:any) => state.cartReducer);\r\n    const handleAddClick = (e: { stopPropagation: () => void; }) => {\r\n        e.stopPropagation();\r\n        dispatch(addToCart(product,1))\r\n\r\n    };\r\n    const {currency:{symbol}} = useSelector((state:any) => state.shopReducer);\r\n    const handleRemoveClick = (e: { stopPropagation: () => void; }) => {\r\n        e.stopPropagation();\r\n        dispatch(addToCart(product,-1))\r\n\r\n    };\r\n    const cartQuantity=getItemCartQty(cartState,product.id)\r\n    return (\r\n        <ProductCardWrapper onClick={onClick} className=\"product-card\">\r\n            <Link href={'/product/[slug]'} as={`/product/${product.id}`}>\r\n\r\n            <ProductImageWrapper >\r\n\r\n\r\n                <Image\r\n                    url={image}\r\n                    className=\"product-image\"\r\n                    style={{ position: 'relative' }}\r\n                    alt={title}\r\n                />\r\n\r\n            </ProductImageWrapper>\r\n            </Link>\r\n\r\n            <ProductInfo>\r\n                <h3 className=\"product-title\">{product.name}</h3>\r\n                <StarRating rating={4}/>\r\n                <div className=\"product-meta\">\r\n                    <div className=\"productPriceWrapper\">\r\n                        {discountInPercent ? (\r\n                            <span className=\"discountedPrice\">\r\n                {symbol}\r\n                                {price}\r\n              </span>\r\n                        ) : (\r\n                            ''\r\n                        )}\r\n\r\n                        <span className=\"product-price\">\r\n              {symbol}\r\n                            {salePrice ? salePrice : price}\r\n            </span>\r\n\r\n                    </div>\r\n                    {!cartQuantity ? (\r\n                        <Button\r\n                            className=\"cart-button\"\r\n                            variant=\"secondary\"\r\n                            borderRadius={100}\r\n                            onClick={handleAddClick}\r\n                        >\r\n                            <CartIcon mr={2} />\r\n                            <ButtonText>\r\n                                Cart\r\n                            </ButtonText>\r\n                        </Button>\r\n                    ) : (\r\n                        <Counter\r\n                            value={cartQuantity?cartQuantity:0}\r\n                            onDecrement={handleRemoveClick}\r\n                            onIncrement={handleAddClick}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </ProductInfo>\r\n        </ProductCardWrapper>\r\n    );\r\n};\r\n\r\nexport default ProductCard;\r\n"]},"metadata":{},"sourceType":"module"}