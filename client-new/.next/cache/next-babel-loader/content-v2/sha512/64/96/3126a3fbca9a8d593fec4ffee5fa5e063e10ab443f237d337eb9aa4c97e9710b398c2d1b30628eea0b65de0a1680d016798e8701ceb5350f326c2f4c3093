{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\2012b\\\\WebstormProjects\\\\ecommerce-MERN\\\\client-new\\\\src\\\\components\\\\Product\\\\grid\\\\ProductGrid.tsx\";\nimport React, { useState } from 'react';\nimport ProductCard from '../card/ProductItem';\nimport { useRouter } from 'next/router';\nimport { Button } from './loadmore-button';\nimport { Box } from './box'; // import { Button } from './button';\n\nimport { Grid } from './ProductGridStyles';\nimport { API_BASE_URL } from \"@/utils/config\";\nimport useFetch from \"@/hooks/useFetch\";\nexport const ProductGrid = ({\n  style,\n  loadMore = true,\n  fetchLimit = 16\n}) => {\n  const router = useRouter();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const url = () => {\n    const {\n      category,\n      subcategory,\n      query\n    } = router.query;\n\n    if (query) {\n      return '';\n    }\n\n    if (category) {\n      const categoryQuery = category ? `category=${category}` : '';\n      const subcategoryQuery = subcategory ? `subcategory=${subcategory}` : '';\n      return `${API_BASE_URL}/api/v1/products/?${categoryQuery}&${subcategoryQuery}`;\n    } else {\n      return `${API_BASE_URL}/api/v1/products/similar/sas`;\n    }\n  };\n\n  const [data, isLoading] = useFetch(url()); // const { data, error } = useProducts({\n  //     type,\n  //     text: router.query.text,\n  //     category: router.query.category,\n  //     offset: 0,\n  //     limit: fetchLimit,\n  // });\n\n  if (!data) return null;\n\n  const handleLoadMore = async () => {\n    setLoading(true); // await fetchMore(Number(data.length), fetchLimit);\n\n    setLoading(false);\n  };\n\n  const renderCard = props => {\n    return /*#__PURE__*/_jsxDEV(ProductCard, {\n      title: props.title,\n      image: props.thumbImage,\n      price: props.price,\n      product: props\n    }, props._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }; // const { items, hasMore } = data.products;\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      style: style,\n      children: data.data.map((product, idx) => renderCard(product))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), loadMore && (data === null || data === void 0 ? void 0 : data.hasMore) && /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        textAlign: 'center'\n      },\n      mt: '2rem',\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleLoadMore,\n        loading: loading,\n        variant: \"secondary\",\n        style: {\n          fontSize: 14,\n          display: 'inline-flex'\n        },\n        border: \"1px solid #f1f1f1\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\nexport default ProductGrid;","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/components/Product/grid/ProductGrid.tsx"],"names":["React","useState","ProductCard","useRouter","Button","Box","Grid","API_BASE_URL","useFetch","ProductGrid","style","loadMore","fetchLimit","router","loading","setLoading","url","category","subcategory","query","categoryQuery","subcategoryQuery","data","isLoading","handleLoadMore","renderCard","props","title","thumbImage","price","_id","map","product","idx","hasMore","textAlign","fontSize","display"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport ProductCard  from '../card/ProductItem';\r\nimport { useRouter } from 'next/router';\r\nimport { Button } from './loadmore-button';\r\nimport { Box } from './box';\r\n\r\n// import { Button } from './button';\r\n\r\nimport {Grid} from './ProductGridStyles'\r\nimport {API_BASE_URL} from \"@/utils/config\";\r\nimport useFetch from \"@/hooks/useFetch\";\r\ninterface Props {\r\n    loadMore?: boolean;\r\n    fetchLimit?: number;\r\n    style?: any;\r\n}\r\n\r\nexport const ProductGrid = ({\r\n                                style,\r\n                                loadMore = true,\r\n                                fetchLimit = 16,\r\n                            }: Props) => {\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(false);\r\n    const url=()=>{\r\n        const {category,subcategory,query}=router.query\r\n        if(query){\r\n                return ''\r\n        }\r\n        if (category){\r\n            const categoryQuery=category?`category=${category}`:''\r\n            const subcategoryQuery=subcategory?`subcategory=${subcategory}`:''\r\n            return `${API_BASE_URL}/api/v1/products/?${categoryQuery}&${subcategoryQuery}`\r\n\r\n        }\r\n\r\n\r\n        else{\r\n            return `${API_BASE_URL}/api/v1/products/similar/sas`\r\n        }\r\n    }\r\n    const [data, isLoading]=useFetch(url())\r\n\r\n    // const { data, error } = useProducts({\r\n    //     type,\r\n    //     text: router.query.text,\r\n    //     category: router.query.category,\r\n    //     offset: 0,\r\n    //     limit: fetchLimit,\r\n    // });\r\n\r\n    if (!data) return null;\r\n    const handleLoadMore = async () => {\r\n        setLoading(true);\r\n        // await fetchMore(Number(data.length), fetchLimit);\r\n        setLoading(false);\r\n    };\r\n    const renderCard = (props) => {\r\n\r\n        return (\r\n            <ProductCard\r\n                title={props.title} image={props.thumbImage}\r\n                price={props.price} key={props._id} product={props}\r\n            />\r\n        );\r\n    }\r\n    // const { items, hasMore } = data.products;\r\n    return (\r\n        <section>\r\n            <Grid style={style}>\r\n                {data.data.map((product, idx) => (\r\n                    renderCard(product)\r\n                ))}\r\n            </Grid>\r\n\r\n            {loadMore && data?.hasMore && (\r\n                <Box style={{ textAlign: 'center' }} mt={'2rem'}>\r\n                    <Button\r\n                        onClick={handleLoadMore}\r\n                        loading={loading}\r\n                        variant='secondary'\r\n                        style={{\r\n                            fontSize: 14,\r\n                            display: 'inline-flex',\r\n                        }}\r\n                        border='1px solid #f1f1f1'\r\n                    >\r\n                        Load More\r\n                    </Button>\r\n                </Box>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\nexport default ProductGrid"]},"metadata":{},"sourceType":"module"}