{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\2012b\\\\WebstormProjects\\\\ecommerce-MERN\\\\client-new\\\\src\\\\pages\\\\product\\\\[slug].tsx\";\nimport React from 'react';\nimport dynamic from 'next/dynamic';\nimport { SEO } from '@/components/Others/seo';\nimport { Modal } from '@redq/reuse-modal';\nimport ProductSingleWrapper, { ProductSingleContainer } from '../../../styles/product-style';\nimport { API_BASE_URL } from \"@/utils/config\";\nimport Layout from \"../../components/Layout/layout\";\nimport ProductNotFound from \"@/components/404/ProductNotFound\";\nimport ProductDetails from \"@/components/Product/details/ProductDetails\";\nimport axios from \"axios\";\nconst CartPopUp = dynamic(() => import('features/cart/cart-popup'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('features/cart/cart-popup')],\n    modules: [\"product\\\\[slug].tsx -> \" + 'features/cart/cart-popup']\n  }\n});\n\nconst fetchData = async url => await axios.get(url).then(res => ({\n  error: false,\n  data: res.data.data\n})).catch(() => ({\n  error: true,\n  data: null\n}));\n\nconst ProductPage = ({\n  deviceType,\n  data\n}) => {\n  // const { query } = useRouter();\n  // const [{data, loading, error}] = useAxios(\n  //     `${API_BASE_URL}/api/v1/products/single/${query.slug}`\n  // )\n  // if(loading){\n  //     return <ItemLoader/>\n  // }\n  if (!data.data) {\n    console.log(data);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SEO, {\n        title: `404 Not Found`,\n        description: `The page doesn't exist`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(ProductNotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true);\n  }\n\n  let content = /*#__PURE__*/_jsxDEV(ProductDetails, {\n    product: data.data,\n    deviceType: deviceType\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SEO, {\n      title: `${data.data.name} - WiseCart`,\n      description: `${data.data.name} Details`,\n      image: data.data.thumbImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(ProductSingleWrapper, {\n          children: /*#__PURE__*/_jsxDEV(ProductSingleContainer, {\n            children: [content, /*#__PURE__*/_jsxDEV(CartPopUp, {\n              deviceType: deviceType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\nexport async function getServerSideProps({\n  params\n}) {\n  const data = await fetchData(`${API_BASE_URL}/api/v1/products/single/${params.slug}`);\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default ProductPage;","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/pages/product/[slug].tsx"],"names":["React","dynamic","SEO","Modal","ProductSingleWrapper","ProductSingleContainer","API_BASE_URL","Layout","ProductNotFound","ProductDetails","axios","CartPopUp","ssr","fetchData","url","get","then","res","error","data","catch","ProductPage","deviceType","console","log","content","name","thumbImage","getServerSideProps","params","slug","props"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { NextPage } from 'next';\r\nimport dynamic from 'next/dynamic';\r\nimport { SEO } from '@/components/Others/seo';\r\nimport { Modal } from '@redq/reuse-modal';\r\nimport ProductSingleWrapper, {\r\n    ProductSingleContainer,\r\n} from '../../../styles/product-style';\r\nimport {API_BASE_URL} from \"@/utils/config\";\r\nimport Layout from \"../../components/Layout/layout\";\r\nimport ProductNotFound from \"@/components/404/ProductNotFound\";\r\nimport ProductDetails from \"@/components/Product/details/ProductDetails\";\r\nimport axios from \"axios\";\r\nconst CartPopUp = dynamic(() => import('features/cart/cart-popup'), {\r\n    ssr: false,\r\n});\r\ntype Props = {\r\n    deviceType?: {\r\n        mobile: boolean;\r\n        tablet: boolean;\r\n        desktop: boolean;\r\n    };\r\n    [key: string]: any;\r\n};\r\nconst fetchData = async (url:string) => await axios.get(url)\r\n    .then(res => ({\r\n        error: false,\r\n        data: res.data.data,\r\n    }))\r\n    .catch(() => ({\r\n            error: true,\r\n            data: null,\r\n        }),\r\n    );\r\n\r\nconst ProductPage: NextPage<Props> = ({ deviceType,data }) => {\r\n    // const { query } = useRouter();\r\n    // const [{data, loading, error}] = useAxios(\r\n    //     `${API_BASE_URL}/api/v1/products/single/${query.slug}`\r\n    // )\r\n    // if(loading){\r\n    //     return <ItemLoader/>\r\n    // }\r\n    if(!data.data){\r\n        console.log(data)\r\n        return(\r\n            <>\r\n                <SEO\r\n                    title={`404 Not Found`}\r\n                    description={`The page doesn't exist`}\r\n                />\r\n                    <Layout>\r\n                <ProductNotFound/>\r\n                    </Layout>\r\n            </>\r\n        )\r\n    }\r\n    let content = (\r\n        <ProductDetails product={data.data} deviceType={deviceType} />\r\n    );\r\n    return (\r\n        <>\r\n            <SEO\r\n                title={`${data.data.name} - WiseCart`}\r\n                description={`${data.data.name} Details`}\r\n                image={data.data.thumbImage}\r\n            />\r\n            <Modal>\r\n                <Layout>\r\n                <ProductSingleWrapper>\r\n                    <ProductSingleContainer>\r\n                        {content}\r\n                        <CartPopUp deviceType={deviceType} />\r\n                    </ProductSingleContainer>\r\n                </ProductSingleWrapper>\r\n                </Layout>\r\n            </Modal>\r\n\r\n        </>\r\n    );\r\n};\r\nexport async function getServerSideProps({ params }) {\r\n    const data = await fetchData(`${API_BASE_URL}/api/v1/products/single/${params.slug}`);\r\n    return {\r\n        props: {\r\n            data,\r\n        },\r\n    };\r\n}\r\nexport default ProductPage;"]},"metadata":{},"sourceType":"module"}