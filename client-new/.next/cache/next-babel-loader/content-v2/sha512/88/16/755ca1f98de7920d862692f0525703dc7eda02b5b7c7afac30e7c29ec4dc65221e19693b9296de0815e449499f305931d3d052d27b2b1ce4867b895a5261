{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/home/hari/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/hari/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/tree-menu/tree-menu.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { usePrevious, useMeasure } from '../../assets/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport * as Icons from 'assets/icons/category-icons';\nvar Tree = /*#__PURE__*/React.memo(_c = _s(function (_ref) {\n  _s();\n\n  var children = _ref.children,\n      name = _ref.name,\n      icon = _ref.icon,\n      isOpen = _ref.isOpen,\n      onClick = _ref.onClick,\n      depth = _ref.depth,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen;\n  var previous = usePrevious(isOpen);\n\n  var _useMeasure = useMeasure(),\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\n      bind = _useMeasure2[0],\n      viewHeight = _useMeasure2[1].height;\n\n  var _useSpring = useSpring({\n    from: {\n      height: 0,\n      opacity: 0,\n      transform: 'translate3d(20px,0,0)'\n    },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      transform: \"translate3d(\".concat(isOpen ? 0 : 20, \"px,0,0)\")\n    }\n  }),\n      height = _useSpring.height,\n      opacity = _useSpring.opacity,\n      transform = _useSpring.transform; // @ts-ignore\n\n\n  var Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n  return /*#__PURE__*/_jsxDEV(Frame, {\n    depth: depth,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      open: isOpen,\n      depth: depth,\n      className: depth,\n      children: [Icon !== null && /*#__PURE__*/_jsxDEV(IconWrapper, {\n        depth: depth,\n        children: /*#__PURE__*/_jsxDEV(Icon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Title, {\n        onClick: onClick,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        opacity: opacity,\n        height: isOpen && previous === isOpen ? 'auto' : height\n      },\n      children: /*#__PURE__*/_jsxDEV(animated.div, _objectSpread(_objectSpread({\n        style: {\n          transform: transform\n        }\n      }, bind), {}, {\n        children: children\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 7\n  }, _this);\n}, \"KlmLo7ZSi+mFHlRWpwvUdGC6/uA=\", false, function () {\n  return [usePrevious, useMeasure, useSpring];\n}));\n_c2 = Tree;\nexport var TreeMenu = function TreeMenu(_ref2) {\n  var data = _ref2.data,\n      _onClick = _ref2.onClick,\n      active = _ref2.active;\n\n  var handler = function handler(children) {\n    return children.map(function (subOption) {\n      if (!subOption.children) {\n        return /*#__PURE__*/_jsxDEV(Tree, {\n          name: subOption.title,\n          icon: subOption.icon,\n          depth: \"child\",\n          onClick: function onClick() {\n            return _onClick(subOption.slug);\n          },\n          isOpen: active === subOption.slug\n        }, subOption.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, _this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(Tree, {\n        name: subOption.title,\n        depth: \"parent\",\n        onClick: function onClick() {\n          return _onClick(subOption.slug);\n        },\n        isOpen: active === subOption.slug || subOption.children.some(function (item) {\n          return item.slug === active;\n        }),\n        children: handler(subOption.children)\n      }, subOption.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, _this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: handler(data)\n  }, void 0, false);\n};\n_c3 = TreeMenu;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Tree$React.memo\");\n$RefreshReg$(_c2, \"Tree\");\n$RefreshReg$(_c3, \"TreeMenu\");","map":{"version":3,"sources":["/home/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/tree-menu/tree-menu.tsx"],"names":["React","usePrevious","useMeasure","useSpring","animated","Frame","Title","Content","Header","IconWrapper","Icons","Tree","memo","children","name","icon","isOpen","onClick","depth","defaultOpen","previous","bind","viewHeight","height","from","opacity","transform","to","Icon","TreeMenu","data","active","handler","map","subOption","title","slug","some","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { usePrevious, useMeasure } from '../../assets/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport * as Icons from 'assets/icons/category-icons';\nconst Tree = React.memo(\n  ({\n    children,\n    name,\n    icon,\n    isOpen,\n    onClick,\n    depth,\n    defaultOpen = false,\n  }: any) => {\n    const previous = usePrevious(isOpen);\n    const [bind, { height: viewHeight }] = useMeasure();\n    const { height, opacity, transform } = useSpring<any>({\n      from: { height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\n      to: {\n        height: isOpen ? viewHeight : 0,\n        opacity: isOpen ? 1 : 0,\n        transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`,\n      },\n    });\n    // @ts-ignore\n      const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n    return (\n      <Frame depth={depth}>\n        <Header open={isOpen} depth={depth} className={depth}>\n          {Icon !== null && (\n            <IconWrapper depth={depth}>\n              <Icon />\n            </IconWrapper>\n          )}\n          <Title onClick={onClick}>{name}</Title>\n        </Header>\n        <Content\n          style={{\n            opacity,\n            height: isOpen && previous === isOpen ? 'auto' : height,\n          }}\n        >\n          <animated.div style={{ transform }} {...bind} children={children} />\n        </Content>\n      </Frame>\n    );\n  }\n);\n\ntype Props = {\n  className?: any;\n  data: any;\n  onClick: (slug: string) => void;\n  active: string | string[]|any;\n};\nexport const TreeMenu: React.FC<Props> = ({\n  data,\n  onClick,\n  active,\n}) => {\n  const handler = (children: any[]) => {\n    return children.map((subOption) => {\n      if (!subOption.children) {\n        return (\n          <Tree\n            key={subOption.title}\n            name={subOption.title}\n            icon={subOption.icon}\n            depth=\"child\"\n            onClick={() => onClick(subOption.slug)}\n            isOpen={active === subOption.slug}\n          />\n        );\n      }\n      return (\n        <Tree\n          key={subOption.title}\n          name={subOption.title}\n          depth=\"parent\"\n          onClick={() => onClick(subOption.slug)}\n          isOpen={\n            active === subOption.slug ||\n            subOption.children.some((item: { slug: string | string[]; }) => item.slug === active)\n          }\n        >\n          {handler(subOption.children)}\n        </Tree>\n      );\n    });\n  };\n  return <>{handler(data)}</>;\n};\n"]},"metadata":{},"sourceType":"module"}