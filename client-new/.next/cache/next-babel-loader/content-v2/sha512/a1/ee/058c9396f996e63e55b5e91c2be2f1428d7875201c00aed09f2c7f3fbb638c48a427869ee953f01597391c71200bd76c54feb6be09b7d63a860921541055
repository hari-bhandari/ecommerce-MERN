{"ast":null,"code":"import axios from 'axios';\nconst instance = axios.create({\n  baseURL: '/',\n  withCredentials: true\n});\n\nconst requestHandler = config => {\n  // Modify config here\n  // if (auth.getToken()) {\n  //   // config.headers['Authorization'] = `Bearer ${auth.getToken()}`;\n  // }\n  config.timeout = 30000;\n  return config;\n};\n\ninstance.interceptors.request.use(requestHandler);\ninstance.interceptors.response.use(undefined, error => {\n  var _error$response, _error$response$data;\n\n  // handle error\n  if (axios.isCancel(error)) {\n    console.log(`request cancelled`);\n  }\n\n  return Promise.reject((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n});\nexport default instance;","map":{"version":3,"sources":["/home/hari/WebstormProjects/ecommerce-MERN/client-new/src/hooks/httpInstance.ts"],"names":["axios","instance","create","baseURL","withCredentials","requestHandler","config","timeout","interceptors","request","use","response","undefined","error","isCancel","console","log","Promise","reject","data"],"mappings":"AACA,OAAOA,KAAP,MAAqE,OAArE;AAEA,MAAMC,QAAuB,GAAGD,KAAK,CAACE,MAAN,CAAa;AACzCC,EAAAA,OAAO,EAAE,GADgC;AAEzCC,EAAAA,eAAe,EAAE;AAFwB,CAAb,CAAhC;;AAKA,MAAMC,cAAc,GAAIC,MAAD,IAAgC;AACnD;AACA;AACA;AACA;AAEAA,EAAAA,MAAM,CAACC,OAAP,GAAiB,KAAjB;AACA,SAAOD,MAAP;AACH,CARD;;AAUAL,QAAQ,CAACO,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkCL,cAAlC;AACAJ,QAAQ,CAACO,YAAT,CAAsBG,QAAtB,CAA+BD,GAA/B,CAAmCE,SAAnC,EAA+CC,KAAD,IAAuB;AAAA;;AACjE;AACA,MAAIb,KAAK,CAACc,QAAN,CAAeD,KAAf,CAAJ,EAA2B;AACvBE,IAAAA,OAAO,CAACC,GAAR,CAAa,mBAAb;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,oBAAeL,KAAK,CAACF,QAArB,4EAAe,gBAAgBQ,IAA/B,yDAAe,qBAAsBN,KAArC,CAAP;AACH,CAND;AAQA,eAAeZ,QAAf","sourcesContent":["\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosError } from 'axios';\n\nconst instance: AxiosInstance = axios.create({\n    baseURL: '/',\n    withCredentials: true,\n});\n\nconst requestHandler = (config: AxiosRequestConfig) => {\n    // Modify config here\n    // if (auth.getToken()) {\n    //   // config.headers['Authorization'] = `Bearer ${auth.getToken()}`;\n    // }\n\n    config.timeout = 30000;\n    return config;\n};\n\ninstance.interceptors.request.use(requestHandler);\ninstance.interceptors.response.use(undefined, (error: AxiosError) => {\n    // handle error\n    if (axios.isCancel(error)) {\n        console.log(`request cancelled`);\n    }\n    return Promise.reject(error.response?.data?.error);\n});\n\nexport default instance;\n"]},"metadata":{},"sourceType":"module"}