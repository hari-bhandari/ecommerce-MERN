{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/product-details/product-details-two/product-details-two.tsx\";\nimport React, { useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { Button } from 'components/button/button';\nimport { ProductDetailsWrapper, ProductPreview, ProductInfo, BookTitle, BackButton, AuthorName, BookDescriptionWrapper, BookDescription, BookMetaTable, BookMetaTableRow, BookMetaItem, ProductMeta, ButtonText, ProductCartWrapper, ProductPriceWrapper, ProductPrice, SalePrice, ProductCartBtn, MetaSingle, MetaItem, DetailsWrapper, DetailsTitle, Description, Avatar, SocialNetworks, SocialIcon, RelatedItems } from './product-details-two.style';\nimport { LongArrowLeft } from 'assets/icons/LongArrowLeft';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport { InkPen } from 'assets/icons/InkPen';\nimport { AdobeIcon } from 'assets/icons/AdobeIcon';\nimport { Facebook } from 'assets/icons/Facebook';\nimport { GooglePlus } from 'assets/icons/GooglePlus';\nimport { Twitter } from 'assets/icons/Twitter';\nimport { Linkedin } from 'assets/icons/Linkedin';\nimport { CURRENCY } from 'utils/constant';\nimport Products from 'components/product-grid/product-list/product-list';\nimport { FormattedMessage } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\n\nconst ProductDetails = ({\n  product,\n  deviceType\n}) => {\n  const {\n    addItem,\n    removeItem,\n    getItem,\n    isInCart\n  } = useCart();\n  const data = product;\n  const scrollRef = useRef(null);\n\n  const scrollToDiv = e => {\n    e.preventDefault();\n    window.scrollTo({\n      top: scrollRef.current.getBoundingClientRect().top + window.pageYOffset - 65,\n      behavior: 'smooth'\n    });\n  };\n\n  const handleAddClick = e => {\n    e.stopPropagation();\n    addItem(data);\n  };\n\n  const handleRemoveClick = e => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProductDetailsWrapper, {\n      className: \"product-card\",\n      children: [/*#__PURE__*/_jsxDEV(ProductPreview, {\n        children: [/*#__PURE__*/_jsxDEV(BackButton, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            size: \"small\",\n            style: {\n              backgroundColor: '#ffffff',\n              border: '1px solid #f1f1f1',\n              color: '#77798c'\n            },\n            onClick: Router.back,\n            children: [/*#__PURE__*/_jsxDEV(LongArrowLeft, {\n              style: {\n                marginRight: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"backBtn\",\n              defaultMessage: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.gallery[0].url,\n          alt: product.title,\n          className: \"product-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n        children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n          children: product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthorName, {\n          children: [/*#__PURE__*/_jsxDEV(InkPen, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), \" \", product.author.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookDescriptionWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(BookDescription, {\n            children: [product.description.substring(0, 600), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              onClick: scrollToDiv,\n              style: {\n                color: '#009e7f',\n                fontWeight: 700\n              },\n              children: \"Read More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BookMetaTable, {\n            children: product.meta ? Object.entries(product.meta).map(([item], i, arr) => i !== arr.length - 1 && i !== arr.length - 2 ? /*#__PURE__*/_jsxDEV(BookMetaTableRow, {\n              children: [/*#__PURE__*/_jsxDEV(BookMetaItem, {\n                children: item.replace(/^[a-z]|[A-Z]/g, function (v, i) {\n                  return i === 0 ? v.toUpperCase() : ' ' + v.toLowerCase();\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(BookMetaItem, {\n                children: item === 'languages' ? product.meta[item].map((lang, i, arr) => lang.charAt(0).toUpperCase() + lang.slice(1) + (i !== arr.length - 1 ? ', ' : '')) : product.meta[item]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 25\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 23\n            }, this) : '') : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductCartWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(ProductPriceWrapper, {\n            children: [product.discountInPercent ? /*#__PURE__*/_jsxDEV(SalePrice, {\n              children: [CURRENCY, product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this) : null, /*#__PURE__*/_jsxDEV(ProductPrice, {\n              children: [CURRENCY, product.salePrice ? product.salePrice : product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductCartBtn, {\n            children: [!isInCart(data.id) ? /*#__PURE__*/_jsxDEV(Button, {\n              className: \"cart-button\",\n              variant: \"secondary\",\n              borderRadius: 100,\n              onClick: handleAddClick,\n              children: [/*#__PURE__*/_jsxDEV(CartIcon, {\n                mr: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ButtonText, {\n                children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n                  id: \"addCartButton\",\n                  defaultMessage: \"Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Counter, {\n              value: getItem(data.id).quantity,\n              onDecrement: handleRemoveClick,\n              onIncrement: handleAddClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), product.meta && product.meta.samplePDF.length !== 0 ? /*#__PURE__*/_jsxDEV(Button, {\n              title: \"Read Free Sample\",\n              intlButtonId: \"readFreeSampleButton\",\n              iconPosition: \"left\",\n              size: \"small\",\n              variant: \"outlined\",\n              className: \"outline-button\",\n              icon: /*#__PURE__*/_jsxDEV(AdobeIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductMeta, {\n          children: /*#__PURE__*/_jsxDEV(MetaSingle, {\n            children: product.categories ? product.categories.map(item => /*#__PURE__*/_jsxDEV(Link, {\n              href: `/${product.type}?category=${item.slug}`,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(MetaItem, {\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 25\n              }, this)\n            }, `link-${item.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 21\n            }, this)) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DetailsWrapper, {\n      ref: scrollRef,\n      children: [/*#__PURE__*/_jsxDEV(DetailsTitle, {\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"bookSectionTitle\",\n          defaultMessage: \"About The Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Description, {\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DetailsWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(DetailsTitle, {\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"authorSectionTitle\",\n          defaultMessage: \"About The Author\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AuthorName, {\n        children: [product.author.avatar && product.author.avatar.length !== 0 ? /*#__PURE__*/_jsxDEV(Avatar, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.author.avatar,\n            alt: product.author.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(InkPen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), product.author.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Description, {\n        children: product.author.bio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SocialNetworks, {\n        children: product.author && product.author.socials.map(item => item.profileLink.length !== 0 ? /*#__PURE__*/_jsxDEV(SocialIcon, {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: item.profileLink,\n            target: \"_blank\",\n            children: item.media === 'facebook' ? /*#__PURE__*/_jsxDEV(Facebook, {\n              color: \"#3b5999\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 23\n            }, this) : item.media === 'twitter' ? /*#__PURE__*/_jsxDEV(Twitter, {\n              color: \"#55acee\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 23\n            }, this) : item.media === 'google' ? /*#__PURE__*/_jsxDEV(GooglePlus, {\n              color: \"#dd4b39\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 23\n            }, this) : item.media === 'linkedin' ? /*#__PURE__*/_jsxDEV(Linkedin, {\n              color: \"#0077B5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 23\n            }, this) : ''\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }, this) : '')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RelatedItems, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: \"intlReletedItems\",\n          defaultMessage: \"Related Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        type: product.type.toLowerCase(),\n        deviceType: deviceType,\n        loadMore: false,\n        fetchLimit: 10\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default ProductDetails;","map":{"version":3,"sources":["/Users/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/product-details/product-details-two/product-details-two.tsx"],"names":["React","useEffect","useRef","Link","Router","Button","ProductDetailsWrapper","ProductPreview","ProductInfo","BookTitle","BackButton","AuthorName","BookDescriptionWrapper","BookDescription","BookMetaTable","BookMetaTableRow","BookMetaItem","ProductMeta","ButtonText","ProductCartWrapper","ProductPriceWrapper","ProductPrice","SalePrice","ProductCartBtn","MetaSingle","MetaItem","DetailsWrapper","DetailsTitle","Description","Avatar","SocialNetworks","SocialIcon","RelatedItems","LongArrowLeft","CartIcon","InkPen","AdobeIcon","Facebook","GooglePlus","Twitter","Linkedin","CURRENCY","Products","FormattedMessage","useCart","Counter","ProductDetails","product","deviceType","addItem","removeItem","getItem","isInCart","data","scrollRef","scrollToDiv","e","preventDefault","window","scrollTo","top","current","getBoundingClientRect","pageYOffset","behavior","handleAddClick","stopPropagation","handleRemoveClick","setTimeout","backgroundColor","border","color","back","marginRight","gallery","url","title","author","name","description","substring","fontWeight","meta","Object","entries","map","item","i","arr","length","replace","v","toUpperCase","toLowerCase","lang","charAt","slice","discountInPercent","price","salePrice","id","quantity","samplePDF","categories","type","slug","avatar","bio","socials","profileLink","media"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { Button } from 'components/button/button';\nimport {\n  ProductDetailsWrapper,\n  ProductPreview,\n  ProductInfo,\n  BookTitle,\n  BackButton,\n  AuthorName,\n  BookDescriptionWrapper,\n  BookDescription,\n  BookMetaTable,\n  BookMetaTableRow,\n  BookMetaItem,\n  ProductMeta,\n  ButtonText,\n  ProductCartWrapper,\n  ProductPriceWrapper,\n  ProductPrice,\n  SalePrice,\n  ProductCartBtn,\n  MetaSingle,\n  MetaItem,\n  DetailsWrapper,\n  DetailsTitle,\n  Description,\n  Avatar,\n  SocialNetworks,\n  SocialIcon,\n  RelatedItems,\n} from './product-details-two.style';\nimport { LongArrowLeft } from 'assets/icons/LongArrowLeft';\nimport { CartIcon } from 'assets/icons/CartIcon';\nimport { InkPen } from 'assets/icons/InkPen';\nimport { AdobeIcon } from 'assets/icons/AdobeIcon';\nimport { Facebook } from 'assets/icons/Facebook';\nimport { GooglePlus } from 'assets/icons/GooglePlus';\nimport { Twitter } from 'assets/icons/Twitter';\nimport { Linkedin } from 'assets/icons/Linkedin';\n\nimport { CURRENCY } from 'utils/constant';\nimport Products from 'components/product-grid/product-list/product-list';\nimport { FormattedMessage } from 'react-intl';\nimport { useCart } from 'contexts/cart/use-cart';\nimport { Counter } from 'components/counter/counter';\n\ntype ProductDetailsProps = {\n  product: any;\n  deviceType: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst ProductDetails: React.FunctionComponent<ProductDetailsProps> = ({\n  product,\n  deviceType,\n}) => {\n  const { addItem, removeItem, getItem, isInCart } = useCart();\n  const data = product;\n\n  const scrollRef = useRef(null);\n\n  const scrollToDiv = (e) => {\n    e.preventDefault();\n    window.scrollTo({\n      top:\n        scrollRef.current.getBoundingClientRect().top + window.pageYOffset - 65,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleAddClick = (e) => {\n    e.stopPropagation();\n    addItem(data);\n  };\n\n  const handleRemoveClick = (e) => {\n    e.stopPropagation();\n    removeItem(data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n\n  return (\n    <>\n      <ProductDetailsWrapper className=\"product-card\">\n        <ProductPreview>\n          <BackButton>\n            <Button\n              type=\"button\"\n              size=\"small\"\n              style={{\n                backgroundColor: '#ffffff',\n                border: '1px solid #f1f1f1',\n                color: '#77798c',\n              }}\n              onClick={Router.back}\n            >\n              <LongArrowLeft style={{ marginRight: 5 }} />\n              <FormattedMessage id=\"backBtn\" defaultMessage=\"Back\" />\n            </Button>\n          </BackButton>\n\n          <img\n            src={product.gallery[0].url}\n            alt={product.title}\n            className=\"product-image\"\n          />\n        </ProductPreview>\n\n        <ProductInfo>\n          <BookTitle>{product.title}</BookTitle>\n          <AuthorName>\n            <InkPen /> {product.author.name}\n          </AuthorName>\n          <BookDescriptionWrapper>\n            <BookDescription>\n              {product.description.substring(0, 600)}\n              <a\n                href=\"#\"\n                onClick={scrollToDiv}\n                style={{ color: '#009e7f', fontWeight: 700 }}\n              >\n                Read More\n              </a>\n            </BookDescription>\n            <BookMetaTable>\n              {product.meta\n                ? Object.entries(product.meta).map(([item], i, arr): any =>\n                    i !== arr.length - 1 && i !== arr.length - 2 ? (\n                      <BookMetaTableRow key={i}>\n                        <BookMetaItem>\n                          {item.replace(/^[a-z]|[A-Z]/g, function (v, i) {\n                            return i === 0\n                              ? v.toUpperCase()\n                              : ' ' + v.toLowerCase();\n                          })}\n                        </BookMetaItem>\n                        <BookMetaItem>\n                          {item === 'languages'\n                            ? product.meta[item].map(\n                                (lang, i, arr): any =>\n                                  lang.charAt(0).toUpperCase() +\n                                  lang.slice(1) +\n                                  (i !== arr.length - 1 ? ', ' : '')\n                              )\n                            : product.meta[item]}\n                        </BookMetaItem>\n                      </BookMetaTableRow>\n                    ) : (\n                      ''\n                    )\n                  )\n                : ''}\n            </BookMetaTable>\n          </BookDescriptionWrapper>\n\n          <ProductCartWrapper>\n            <ProductPriceWrapper>\n              {product.discountInPercent ? (\n                <SalePrice>\n                  {CURRENCY}\n                  {product.price}\n                </SalePrice>\n              ) : null}\n\n              <ProductPrice>\n                {CURRENCY}\n                {product.salePrice ? product.salePrice : product.price}\n              </ProductPrice>\n            </ProductPriceWrapper>\n\n            <ProductCartBtn>\n              {!isInCart(data.id) ? (\n                <Button\n                  className=\"cart-button\"\n                  variant=\"secondary\"\n                  borderRadius={100}\n                  onClick={handleAddClick}\n                >\n                  <CartIcon mr={2} />\n                  <ButtonText>\n                    <FormattedMessage\n                      id=\"addCartButton\"\n                      defaultMessage=\"Cart\"\n                    />\n                  </ButtonText>\n                </Button>\n              ) : (\n                <Counter\n                  value={getItem(data.id).quantity}\n                  onDecrement={handleRemoveClick}\n                  onIncrement={handleAddClick}\n                />\n              )}\n\n              {product.meta && product.meta.samplePDF.length !== 0 ? (\n                <Button\n                  title=\"Read Free Sample\"\n                  intlButtonId=\"readFreeSampleButton\"\n                  iconPosition=\"left\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  className=\"outline-button\"\n                  icon={<AdobeIcon />}\n                />\n              ) : null}\n            </ProductCartBtn>\n          </ProductCartWrapper>\n\n          <ProductMeta>\n            <MetaSingle>\n              {product.categories\n                ? product.categories.map((item: any) => (\n                    <Link\n                      href={`/${product.type}?category=${item.slug}`}\n                      key={`link-${item.id}`}\n                    >\n                      {\n                        <a>\n                          <MetaItem>{item.title}</MetaItem>\n                        </a>\n                      }\n                    </Link>\n                  ))\n                : ''}\n            </MetaSingle>\n          </ProductMeta>\n        </ProductInfo>\n      </ProductDetailsWrapper>\n\n      <DetailsWrapper ref={scrollRef}>\n        <DetailsTitle>\n          <FormattedMessage\n            id=\"bookSectionTitle\"\n            defaultMessage=\"About The Book\"\n          />\n        </DetailsTitle>\n        <Description>{product.description}</Description>\n      </DetailsWrapper>\n\n      <DetailsWrapper>\n        <DetailsTitle>\n          <FormattedMessage\n            id=\"authorSectionTitle\"\n            defaultMessage=\"About The Author\"\n          />\n        </DetailsTitle>\n        <AuthorName>\n          {product.author.avatar && product.author.avatar.length !== 0 ? (\n            <Avatar>\n              <img src={product.author.avatar} alt={product.author.name} />\n            </Avatar>\n          ) : (\n            <InkPen />\n          )}\n\n          {product.author.name}\n        </AuthorName>\n\n        <Description>{product.author.bio}</Description>\n        <SocialNetworks>\n          {product.author &&\n            product.author.socials.map((item) =>\n              item.profileLink.length !== 0 ? (\n                <SocialIcon>\n                  <a key={item.id} href={item.profileLink} target=\"_blank\">\n                    {item.media === 'facebook' ? (\n                      <Facebook color=\"#3b5999\" />\n                    ) : item.media === 'twitter' ? (\n                      <Twitter color=\"#55acee\" />\n                    ) : item.media === 'google' ? (\n                      <GooglePlus color=\"#dd4b39\" />\n                    ) : item.media === 'linkedin' ? (\n                      <Linkedin color=\"#0077B5\" />\n                    ) : (\n                      ''\n                    )}\n                  </a>\n                </SocialIcon>\n              ) : (\n                ''\n              )\n            )}\n        </SocialNetworks>\n      </DetailsWrapper>\n\n      <RelatedItems>\n        <h2>\n          <FormattedMessage\n            id=\"intlReletedItems\"\n            defaultMessage=\"Related Items\"\n          />\n        </h2>\n        <Products\n          type={product.type.toLowerCase()}\n          deviceType={deviceType}\n          loadMore={false}\n          fetchLimit={10}\n        />\n      </RelatedItems>\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}