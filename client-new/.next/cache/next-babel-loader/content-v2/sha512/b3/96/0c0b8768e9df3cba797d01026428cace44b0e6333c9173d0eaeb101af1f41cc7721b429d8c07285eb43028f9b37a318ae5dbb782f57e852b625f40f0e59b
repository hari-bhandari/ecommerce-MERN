{"ast":null,"code":"import { useEffect, useState } from 'react';\nconst isClient = false;\nexport const useMedia = (query, defaultState = false) => {\n  const {\n    0: state,\n    1: setState\n  } = useState(isClient ? () => window.matchMedia(query).matches : defaultState);\n  useEffect(() => {\n    let mounted = true;\n    const mql = window.matchMedia(query);\n\n    const onChange = () => {\n      if (!mounted) {\n        return;\n      }\n\n      setState(!!mql.matches);\n    };\n\n    mql.addListener(onChange);\n    setState(mql.matches);\n    return () => {\n      mounted = false;\n      mql.removeListener(onChange);\n    };\n  }, [query]);\n  return state;\n};","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/assets/use-media.ts"],"names":["useEffect","useState","isClient","useMedia","query","defaultState","state","setState","window","matchMedia","matches","mounted","mql","onChange","addListener","removeListener"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,MAAMC,QAAQ,QAAd;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAgBC,YAAqB,GAAG,KAAxC,KAAkD;AACxE,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBN,QAAQ,CAChCC,QAAQ,GAAG,MAAMM,MAAM,CAACC,UAAP,CAAkBL,KAAlB,EAAyBM,OAAlC,GAA4CL,YADpB,CAAlC;AAIAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,OAAO,GAAG,IAAd;AACA,UAAMC,GAAG,GAAGJ,MAAM,CAACC,UAAP,CAAkBL,KAAlB,CAAZ;;AACA,UAAMS,QAAQ,GAAG,MAAM;AACrB,UAAI,CAACF,OAAL,EAAc;AACZ;AACD;;AACDJ,MAAAA,QAAQ,CAAC,CAAC,CAACK,GAAG,CAACF,OAAP,CAAR;AACD,KALD;;AAOAE,IAAAA,GAAG,CAACE,WAAJ,CAAgBD,QAAhB;AACAN,IAAAA,QAAQ,CAACK,GAAG,CAACF,OAAL,CAAR;AAEA,WAAO,MAAM;AACXC,MAAAA,OAAO,GAAG,KAAV;AACAC,MAAAA,GAAG,CAACG,cAAJ,CAAmBF,QAAnB;AACD,KAHD;AAID,GAjBQ,EAiBN,CAACT,KAAD,CAjBM,CAAT;AAmBA,SAAOE,KAAP;AACD,CAzBM","sourcesContent":["import { useEffect, useState } from 'react';\r\nconst isClient = typeof window === 'object';\r\n\r\nexport const useMedia = (query: string, defaultState: boolean = false) => {\r\n  const [state, setState] = useState(\r\n    isClient ? () => window.matchMedia(query).matches : defaultState\r\n  );\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const mql = window.matchMedia(query);\r\n    const onChange = () => {\r\n      if (!mounted) {\r\n        return;\r\n      }\r\n      setState(!!mql.matches);\r\n    };\r\n\r\n    mql.addListener(onChange);\r\n    setState(mql.matches);\r\n\r\n    return () => {\r\n      mounted = false;\r\n      mql.removeListener(onChange);\r\n    };\r\n  }, [query]);\r\n\r\n  return state;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}