{"ast":null,"code":"import { SHOP } from \"../defines\";\nimport axios from \"axios\";\nimport setAuthToken from \"@/redux/setAuthToken\";\nexport const setSort = sortType => ({\n  type: SHOP.SET_SORT,\n  sortType\n});\nexport const setSubCategory = subCategory => ({\n  type: SHOP.SET_SUBCATEGORY,\n  subCategory\n});\nexport const setCategory = category => ({\n  type: SHOP.SET_CATEGORY,\n  category\n});\nexport const setCurrency = currency => ({\n  type: SHOP.SET_CURRENCY,\n  currency\n});\nexport const setDeliveryAddress = address => ({\n  type: SHOP.SET_ADDRESS,\n  address\n});\nexport const setBilling = billing => ({\n  type: SHOP.SET_BILLING,\n  billing\n});\nexport const setCARD = card => ({\n  type: SHOP.SET_CARD,\n  card\n});\nexport const setCurrencyData = () => async dispatch => {\n  if (localStorage.token) {\n    const token = localStorage.token.replaceAll('\"', ''); //sending token to headers\n\n    setAuthToken(token);\n  }\n\n  try {\n    const {\n      data\n    } = await axios.get(`https://api.currencyfreaks.com/latest?apikey=819639258bba4f27aa71b603c2fc52d8&symbols=JPY,GBP,EUR`);\n    dispatch({\n      type: SHOP.SET_CURRENCY_DATA,\n      data: data.rates\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/redux/actions/shopActions.ts"],"names":["SHOP","axios","setAuthToken","setSort","sortType","type","SET_SORT","setSubCategory","subCategory","SET_SUBCATEGORY","setCategory","category","SET_CATEGORY","setCurrency","currency","SET_CURRENCY","setDeliveryAddress","address","SET_ADDRESS","setBilling","billing","SET_BILLING","setCARD","card","SET_CARD","setCurrencyData","dispatch","localStorage","token","replaceAll","data","get","SET_CURRENCY_DATA","rates","err","console","log"],"mappings":"AAAA,SAAcA,IAAd,QAAyB,YAAzB;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAGA,OAAO,MAAMC,OAAO,GAAIC,QAAD,KAAsB;AAC3CC,EAAAA,IAAI,EAAEL,IAAI,CAACM,QADgC;AAE3CF,EAAAA;AAF2C,CAAtB,CAAhB;AAKP,OAAO,MAAMG,cAAc,GAAIC,WAAD,KAAyB;AACrDH,EAAAA,IAAI,EAAEL,IAAI,CAACS,eAD0C;AAErDD,EAAAA;AAFqD,CAAzB,CAAvB;AAIP,OAAO,MAAME,WAAW,GAAIC,QAAD,KAAsB;AAC/CN,EAAAA,IAAI,EAAEL,IAAI,CAACY,YADoC;AAE/CD,EAAAA;AAF+C,CAAtB,CAApB;AAIP,OAAO,MAAME,WAAW,GAAIC,QAAD,KAAsB;AAC/CT,EAAAA,IAAI,EAAEL,IAAI,CAACe,YADoC;AAE/CD,EAAAA;AAF+C,CAAtB,CAApB;AAIP,OAAO,MAAME,kBAAkB,GAAIC,OAAD,KAAqB;AACrDZ,EAAAA,IAAI,EAAEL,IAAI,CAACkB,WAD0C;AAErDD,EAAAA;AAFqD,CAArB,CAA3B;AAIP,OAAO,MAAME,UAAU,GAAIC,OAAD,KAAqB;AAC7Cf,EAAAA,IAAI,EAAEL,IAAI,CAACqB,WADkC;AAE7CD,EAAAA;AAF6C,CAArB,CAAnB;AAIP,OAAO,MAAME,OAAO,GAAIC,IAAD,KAAkB;AACvClB,EAAAA,IAAI,EAAEL,IAAI,CAACwB,QAD4B;AAEvCD,EAAAA;AAFuC,CAAlB,CAAhB;AAMP,OAAO,MAAME,eAAe,GAAG,MAAM,MAAOC,QAAP,IAAwB;AAC3D,MAAIC,YAAY,CAACC,KAAjB,EAAwB;AACtB,UAAMA,KAAK,GAACD,YAAY,CAACC,KAAb,CAAmBC,UAAnB,CAA8B,GAA9B,EAAkC,EAAlC,CAAZ,CADsB,CAEtB;;AACA3B,IAAAA,YAAY,CAAC0B,KAAD,CAAZ;AACD;;AACD,MAAI;AACF,UAAM;AAACE,MAAAA;AAAD,QAAS,MAAM7B,KAAK,CAAC8B,GAAN,CAAW,mGAAX,CAArB;AACAL,IAAAA,QAAQ,CAAC;AACPrB,MAAAA,IAAI,EAAEL,IAAI,CAACgC,iBADJ;AAEPF,MAAAA,IAAI,EAACA,IAAI,CAACG;AAFH,KAAD,CAAR;AAKD,GAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAhBM","sourcesContent":["import {AUTH, SHOP} from \"../defines\";\r\nimport useFetch from \"@/hooks/useFetch\";\r\nimport {API_BASE_URL} from \"@/utils/config\";\r\nimport axios from \"axios\";\r\nimport setAuthToken from \"@/redux/setAuthToken\";\r\n\r\n\r\nexport const setSort = (sortType:string) => ({\r\n  type: SHOP.SET_SORT,\r\n  sortType,\r\n});\r\n\r\nexport const setSubCategory = (subCategory:object) => ({\r\n  type: SHOP.SET_SUBCATEGORY,\r\n  subCategory,\r\n});\r\nexport const setCategory = (category:object) => ({\r\n  type: SHOP.SET_CATEGORY,\r\n  category,\r\n});\r\nexport const setCurrency = (currency:object) => ({\r\n  type: SHOP.SET_CURRENCY,\r\n  currency,\r\n});\r\nexport const setDeliveryAddress = (address:object) => ({\r\n  type: SHOP.SET_ADDRESS,\r\n  address,\r\n});\r\nexport const setBilling = (billing:object) => ({\r\n  type: SHOP.SET_BILLING,\r\n  billing,\r\n});\r\nexport const setCARD = (card:object) => ({\r\n  type: SHOP.SET_CARD,\r\n  card,\r\n});\r\n\r\n\r\nexport const setCurrencyData = () => async (dispatch:any) => {\r\n  if (localStorage.token) {\r\n    const token=localStorage.token.replaceAll('\"','')\r\n    //sending token to headers\r\n    setAuthToken(token)\r\n  }\r\n  try {\r\n    const {data} = await axios.get(`https://api.currencyfreaks.com/latest?apikey=819639258bba4f27aa71b603c2fc52d8&symbols=JPY,GBP,EUR`);\r\n    dispatch({\r\n      type: SHOP.SET_CURRENCY_DATA,\r\n      data:data.rates,\r\n    })\r\n\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}