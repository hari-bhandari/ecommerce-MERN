{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\2012b\\\\WebstormProjects\\\\ecommerce-MERN\\\\client-new\\\\src\\\\components\\\\Layout\\\\tree-menu\\\\tree-menu.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { usePrevious, useMeasure } from '../../../assets/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport { Button } from '@/components/Others/button/button';\nimport { ArrowNext } from '@/assets/icons/ArrowNext';\nimport { CategoryIcon } from \"@/components/Layout/header/menu/left-menu/LeftMenu\";\nvar Tree = /*#__PURE__*/React.memo(_c = _s(function (_ref) {\n  _s();\n\n  var children = _ref.children,\n      name = _ref.name,\n      icon = _ref.icon,\n      onClick = _ref.onClick,\n      dropdown = _ref.dropdown,\n      depth = _ref.depth,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen;\n\n  var _useState = useState(defaultOpen),\n      isOpen = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    setOpen(defaultOpen);\n  }, [defaultOpen]);\n  var previous = usePrevious(isOpen);\n\n  var _useMeasure = useMeasure(),\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\n      bind = _useMeasure2[0],\n      viewHeight = _useMeasure2[1].height;\n\n  var _useSpring = useSpring({\n    from: {\n      height: 0,\n      opacity: 0,\n      transform: 'translate3d(20px,0,0)'\n    },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      transform: \"translate3d(\".concat(isOpen ? 0 : 20, \"px,0,0)\")\n    }\n  }),\n      height = _useSpring.height,\n      opacity = _useSpring.opacity,\n      transform = _useSpring.transform; // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n  // @ts-ignore\n\n\n  return /*#__PURE__*/_jsxDEV(Frame, {\n    depth: depth,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      open: isOpen,\n      depth: depth,\n      className: depth,\n      children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n        depth: depth,\n        children: /*#__PURE__*/_jsxDEV(CategoryIcon, {\n          link: icon,\n          height: \"25px\",\n          width: \"25px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(Title, {\n        onClick: onClick,\n        depth: depth,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, _this), dropdown === true && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: function onClick() {\n          return setOpen(!isOpen);\n        },\n        variant: \"text\",\n        className: \"toggleButton\",\n        children: /*#__PURE__*/_jsxDEV(ArrowNext, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        opacity: opacity,\n        height: isOpen && previous === isOpen ? 'auto' : height\n      },\n      children: /*#__PURE__*/_jsxDEV(animated.div, _objectSpread(_objectSpread({\n        style: {\n          transform: transform\n        }\n      }, bind), {}, {\n        children: children\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 13\n  }, _this);\n}, \"ELTP6lCwoexA1kmfaNvwd+LbElU=\", false, function () {\n  return [usePrevious, useMeasure, useSpring];\n}));\n_c2 = Tree;\nexport var TreeMenu = function TreeMenu(_ref2) {\n  var data = _ref2.data,\n      className = _ref2.className,\n      _onClick = _ref2.onClick,\n      active = _ref2.active;\n\n  var handler = function handler(children) {\n    return children.map(function (subOption) {\n      if (!subOption.subCategory) {\n        return /*#__PURE__*/_jsxDEV(Tree, {\n          name: subOption.name,\n          icon: subOption === null || subOption === void 0 ? void 0 : subOption.image,\n          depth: \"child\",\n          onClick: function onClick() {\n            return _onClick(subOption.id, false);\n          },\n          defaultOpen: active.subcategory === subOption.id\n        }, subOption._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, _this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(Tree, {\n        name: subOption.name,\n        icon: subOption.image,\n        dropdown: !subOption.subCategory.length ? false : true,\n        depth: \"parent\",\n        onClick: function onClick() {\n          return _onClick(subOption.id, true);\n        },\n        defaultOpen: active.category === subOption.id,\n        children: handler(subOption.subCategory)\n      }, subOption._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, _this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: handler(data === null || data === void 0 ? void 0 : data.data)\n  }, void 0, false);\n};\n_c3 = TreeMenu;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Tree$React.memo\");\n$RefreshReg$(_c2, \"Tree\");\n$RefreshReg$(_c3, \"TreeMenu\");","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/components/Layout/tree-menu/tree-menu.tsx"],"names":["React","useState","useEffect","usePrevious","useMeasure","useSpring","animated","Frame","Title","Content","Header","IconWrapper","Button","ArrowNext","CategoryIcon","Tree","memo","children","name","icon","onClick","dropdown","depth","defaultOpen","isOpen","setOpen","previous","bind","viewHeight","height","from","opacity","transform","to","TreeMenu","data","className","active","handler","map","subOption","subCategory","image","id","subcategory","_id","length","category"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {usePrevious, useMeasure} from '../../../assets/hooks';\r\nimport {useSpring, animated} from 'react-spring';\r\nimport {Frame, Title, Content, Header, IconWrapper} from './tree-menu.style';\r\nimport {Button} from '@/components/Others/button/button';\r\nimport {ArrowNext} from '@/assets/icons/ArrowNext';\r\n\r\nimport {CategoryIcon} from \"@/components/Layout/header/menu/left-menu/LeftMenu\";\r\n\r\nconst Tree = React.memo(\r\n    ({\r\n         children,\r\n         name,\r\n         icon,\r\n         // isOpen,\r\n         onClick,\r\n         dropdown,\r\n         depth,\r\n         defaultOpen = false,\r\n     }: any) => {\r\n        const [isOpen, setOpen] = useState(defaultOpen);\r\n        useEffect(() => {\r\n            setOpen(defaultOpen);\r\n        }, [defaultOpen]);\r\n        const previous = usePrevious(isOpen);\r\n        const [bind, {height: viewHeight}] = useMeasure();\r\n        const {height, opacity, transform} = useSpring<any>({\r\n            from: {height: 0, opacity: 0, transform: 'translate3d(20px,0,0)'},\r\n            to: {\r\n                height: isOpen ? viewHeight : 0,\r\n                opacity: isOpen ? 1 : 0,\r\n                transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`,\r\n            },\r\n        });\r\n        // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\r\n        // @ts-ignore\r\n        return (\r\n            <Frame depth={depth}>\r\n                <Header open={isOpen} depth={depth} className={depth}>\r\n                    <IconWrapper depth={depth}>\r\n                        <CategoryIcon link={icon} height={\"25px\"} width={\"25px\"} />\r\n                    </IconWrapper>\r\n                    <Title onClick={onClick} depth={depth}>{name}</Title>\r\n\r\n                    {dropdown === true && (\r\n                        <Button\r\n                            onClick={() => setOpen(!isOpen)}\r\n                            variant='text'\r\n                            className='toggleButton'\r\n                        >\r\n\r\n                            <ArrowNext/>\r\n                        </Button>\r\n                    )}\r\n                </Header>\r\n                <Content\r\n                    style={{\r\n                        opacity,\r\n                        height: isOpen && previous === isOpen ? 'auto' : height,\r\n                    }}\r\n                >\r\n                    <animated.div style={{transform}} {...bind} children={children}/>\r\n                </Content>\r\n            </Frame>\r\n        );\r\n    }\r\n);\r\n\r\ntype Props = {\r\n    className?: any;\r\n    data: any;\r\n    onClick: (slug: string,parent:string) => void;\r\n    active?: {\r\n        category:string[]|string,\r\n        subcategory:string[]|string\r\n    };\r\n};\r\nexport const TreeMenu: React.FC<Props> = ({\r\n                                              data,\r\n                                              className,\r\n                                              onClick,\r\n                                              active,\r\n                                          }) => {\r\n    const handler = (children: any) => {\r\n        return children.map((subOption: any) => {\r\n            if (!subOption.subCategory) {\r\n                return (\r\n                    <Tree\r\n                        key={subOption._id}\r\n                        name={subOption.name}\r\n                        icon={subOption?.image}\r\n                        depth='child'\r\n                        onClick={() => onClick(subOption.id,false)}\r\n                        defaultOpen={active.subcategory === subOption.id}\r\n                    />\r\n                );\r\n            }\r\n            return (\r\n                <Tree\r\n                    key={subOption._id}\r\n                    name={subOption.name}\r\n                    icon={subOption.image}\r\n                    dropdown={!subOption.subCategory.length ? false : true}\r\n                    depth='parent'\r\n                    onClick={() => onClick(subOption.id,true)}\r\n                    defaultOpen={\r\n                        active.category === subOption.id\r\n                    }\r\n                >\r\n                    {handler(subOption.subCategory)}\r\n                </Tree>\r\n            );\r\n        });\r\n    };\r\n    return <>{handler(data?.data)}</>;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}