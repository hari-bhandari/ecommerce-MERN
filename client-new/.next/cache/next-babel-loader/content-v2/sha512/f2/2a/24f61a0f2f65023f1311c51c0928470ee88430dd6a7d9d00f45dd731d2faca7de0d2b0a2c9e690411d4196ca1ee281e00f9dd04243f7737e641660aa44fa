{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { SHOP } from \"../defines\";\nimport axios from \"axios\";\nimport setAuthToken from \"@/redux/setAuthToken\";\nexport var setSort = function setSort(sortType) {\n  return {\n    type: SHOP.SET_SORT,\n    sortType: sortType\n  };\n};\nexport var setSubCategory = function setSubCategory(subCategory) {\n  return {\n    type: SHOP.SET_SUBCATEGORY,\n    subCategory: subCategory\n  };\n};\nexport var setCategory = function setCategory(category) {\n  return {\n    type: SHOP.SET_CATEGORY,\n    category: category\n  };\n};\nexport var setCurrency = function setCurrency(currency) {\n  return {\n    type: SHOP.SET_CURRENCY,\n    currency: currency\n  };\n};\nexport var setDeliveryAddress = function setDeliveryAddress(address) {\n  return {\n    type: SHOP.SET_ADDRESS,\n    address: address\n  };\n};\nexport var setBilling = function setBilling(billing) {\n  return {\n    type: SHOP.SET_BILLING,\n    billing: billing\n  };\n};\nexport var setCARD = function setCARD(card) {\n  return {\n    type: SHOP.SET_CARD,\n    card: card\n  };\n};\nexport var setCurrencyData = function setCurrencyData() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var token, _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (localStorage.token) {\n                token = localStorage.token.replaceAll('\"', ''); //sending token to headers\n\n                setAuthToken(token);\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"https://api.currencyfreaks.com/latest?apikey=819639258bba4f27aa71b603c2fc52d8&symbols=JPY,GBP,EUR\");\n\n            case 4:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              dispatch({\n                type: SHOP.SET_CURRENCY_DATA,\n                data: data.rates\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/redux/actions/shopActions.ts"],"names":["SHOP","axios","setAuthToken","setSort","sortType","type","SET_SORT","setSubCategory","subCategory","SET_SUBCATEGORY","setCategory","category","SET_CATEGORY","setCurrency","currency","SET_CURRENCY","setDeliveryAddress","address","SET_ADDRESS","setBilling","billing","SET_BILLING","setCARD","card","SET_CARD","setCurrencyData","dispatch","localStorage","token","replaceAll","get","data","SET_CURRENCY_DATA","rates","console","log"],"mappings":";;AAAA,SAAcA,IAAd,QAAyB,YAAzB;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAGA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD;AAAA,SAAsB;AAC3CC,IAAAA,IAAI,EAAEL,IAAI,CAACM,QADgC;AAE3CF,IAAAA,QAAQ,EAARA;AAF2C,GAAtB;AAAA,CAAhB;AAKP,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACC,WAAD;AAAA,SAAyB;AACrDH,IAAAA,IAAI,EAAEL,IAAI,CAACS,eAD0C;AAErDD,IAAAA,WAAW,EAAXA;AAFqD,GAAzB;AAAA,CAAvB;AAIP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD;AAAA,SAAsB;AAC/CN,IAAAA,IAAI,EAAEL,IAAI,CAACY,YADoC;AAE/CD,IAAAA,QAAQ,EAARA;AAF+C,GAAtB;AAAA,CAApB;AAIP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD;AAAA,SAAsB;AAC/CT,IAAAA,IAAI,EAAEL,IAAI,CAACe,YADoC;AAE/CD,IAAAA,QAAQ,EAARA;AAF+C,GAAtB;AAAA,CAApB;AAIP,OAAO,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,OAAD;AAAA,SAAqB;AACrDZ,IAAAA,IAAI,EAAEL,IAAI,CAACkB,WAD0C;AAErDD,IAAAA,OAAO,EAAPA;AAFqD,GAArB;AAAA,CAA3B;AAIP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD;AAAA,SAAqB;AAC7Cf,IAAAA,IAAI,EAAEL,IAAI,CAACqB,WADkC;AAE7CD,IAAAA,OAAO,EAAPA;AAF6C,GAArB;AAAA,CAAnB;AAIP,OAAO,IAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD;AAAA,SAAkB;AACvClB,IAAAA,IAAI,EAAEL,IAAI,CAACwB,QAD4B;AAEvCD,IAAAA,IAAI,EAAJA;AAFuC,GAAlB;AAAA,CAAhB;AAMP,OAAO,IAAME,eAAe,GAAG,SAAlBA,eAAkB;AAAA;AAAA,wEAAM,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACnC,kBAAIC,YAAY,CAACC,KAAjB,EAAwB;AAChBA,gBAAAA,KADgB,GACVD,YAAY,CAACC,KAAb,CAAmBC,UAAnB,CAA8B,GAA9B,EAAkC,EAAlC,CADU,EAEtB;;AACA3B,gBAAAA,YAAY,CAAC0B,KAAD,CAAZ;AACD;;AALkC;AAAA;AAAA,qBAOZ3B,KAAK,CAAC6B,GAAN,qGAPY;;AAAA;AAAA;AAO1BC,cAAAA,IAP0B,oBAO1BA,IAP0B;AAQjCL,cAAAA,QAAQ,CAAC;AACPrB,gBAAAA,IAAI,EAAEL,IAAI,CAACgC,iBADJ;AAEPD,gBAAAA,IAAI,EAACA,IAAI,CAACE;AAFH,eAAD,CAAR;AARiC;AAAA;;AAAA;AAAA;AAAA;AAcjCC,cAAAA,OAAO,CAACC,GAAR;;AAdiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB","sourcesContent":["import {AUTH, SHOP} from \"../defines\";\r\nimport useFetch from \"@/hooks/useFetch\";\r\nimport {API_BASE_URL} from \"@/utils/config\";\r\nimport axios from \"axios\";\r\nimport setAuthToken from \"@/redux/setAuthToken\";\r\n\r\n\r\nexport const setSort = (sortType:string) => ({\r\n  type: SHOP.SET_SORT,\r\n  sortType,\r\n});\r\n\r\nexport const setSubCategory = (subCategory:object) => ({\r\n  type: SHOP.SET_SUBCATEGORY,\r\n  subCategory,\r\n});\r\nexport const setCategory = (category:object) => ({\r\n  type: SHOP.SET_CATEGORY,\r\n  category,\r\n});\r\nexport const setCurrency = (currency:object) => ({\r\n  type: SHOP.SET_CURRENCY,\r\n  currency,\r\n});\r\nexport const setDeliveryAddress = (address:object) => ({\r\n  type: SHOP.SET_ADDRESS,\r\n  address,\r\n});\r\nexport const setBilling = (billing:object) => ({\r\n  type: SHOP.SET_BILLING,\r\n  billing,\r\n});\r\nexport const setCARD = (card:object) => ({\r\n  type: SHOP.SET_CARD,\r\n  card,\r\n});\r\n\r\n\r\nexport const setCurrencyData = () => async (dispatch:any) => {\r\n  if (localStorage.token) {\r\n    const token=localStorage.token.replaceAll('\"','')\r\n    //sending token to headers\r\n    setAuthToken(token)\r\n  }\r\n  try {\r\n    const {data} = await axios.get(`https://api.currencyfreaks.com/latest?apikey=819639258bba4f27aa71b603c2fc52d8&symbols=JPY,GBP,EUR`);\r\n    dispatch({\r\n      type: SHOP.SET_CURRENCY_DATA,\r\n      data:data.rates,\r\n    })\r\n\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}