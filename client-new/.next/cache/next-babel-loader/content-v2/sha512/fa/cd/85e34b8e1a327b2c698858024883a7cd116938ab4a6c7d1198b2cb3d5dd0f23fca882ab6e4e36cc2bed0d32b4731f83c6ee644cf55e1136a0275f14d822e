{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\2012b\\\\WebstormProjects\\\\ecommerce-MERN\\\\client-new\\\\src\\\\features\\\\checkouts\\\\checkout.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport CheckoutWrapper, { CheckoutContainer, CheckoutInformation, CartWrapper, CalculationWrapper, OrderInfo, Title, ItemsWrapper, Items, Quantity, Multiplier, ItemInfo, Price, TextWrapper, Text, Bold, Small, NoProductMsg, NoProductImg } from './checkout.style';\nimport { removeAllFromCart } from \"@/redux/actions/cartActions\";\nimport { NoCartBag } from '@/assets/icons/NoCartBag';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { calculateTotalPrice } from \"@/utils/cartUtils\";\nimport MultiStepFormComponent from \"@/features/checkouts/MultiStepForm\"; // The type of props Checkout Form receives\n\nvar OrderItem = function OrderItem(_ref) {\n  var product = _ref.product;\n  var price = product.price,\n      cartQuantity = product.cartQuantity,\n      id = product.id,\n      name = product.name;\n  return /*#__PURE__*/_jsxDEV(Items, {\n    children: [/*#__PURE__*/_jsxDEV(Quantity, {\n      children: cartQuantity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Multiplier, {\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(ItemInfo, {\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Price, {\n      children: ['£', price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, _this)]\n  }, id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, _this);\n};\n\n_c = OrderItem;\n\nvar CheckoutWithSidebar = function CheckoutWithSidebar(_ref2) {\n  _s();\n\n  var token = _ref2.token,\n      deviceType = _ref2.deviceType;\n  var dispatch = useDispatch();\n  var cartState = useSelector(function (state) {\n    return state.cartReducer;\n  });\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n\n              if (isValid) {\n                dispatch(removeAllFromCart());\n                Router.push('/order-received');\n              }\n\n              setLoading(false);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      isValid = _useState2[0],\n      setIsValid = _useState2[1];\n\n  var totalPrice = calculateTotalPrice(cartState);\n  useEffect(function () {\n    if (totalPrice > 0 && cartState.length > 0) {\n      setIsValid(true);\n    }\n  }, [cartState]); // Add or edit modal\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: /*#__PURE__*/_jsxDEV(CheckoutWrapper, {\n      children: /*#__PURE__*/_jsxDEV(CheckoutContainer, {\n        children: [/*#__PURE__*/_jsxDEV(CheckoutInformation, {\n          children: /*#__PURE__*/_jsxDEV(MultiStepFormComponent, {\n            price: totalPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(CartWrapper, {\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(OrderInfo, {\n              children: [/*#__PURE__*/_jsxDEV(Title, {\n                children: \"Your Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(Scrollbars, {\n                universal: true,\n                autoHide: true,\n                autoHeight: true,\n                autoHeightMax: \"390px\",\n                renderView: function renderView(props) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({}, props), {}, {\n                    style: _objectSpread(_objectSpread({}, props.style), {}, {\n                      marginLeft: 0,\n                      marginRight: props.style.marginRight,\n                      paddingLeft: 0,\n                      paddingRight: 15\n                    })\n                  }), void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 41\n                  }, _this);\n                },\n                children: /*#__PURE__*/_jsxDEV(ItemsWrapper, {\n                  children: cartState.length > 0 ? cartState.map(function (item) {\n                    return /*#__PURE__*/_jsxDEV(OrderItem, {\n                      product: item\n                    }, \"cartItem-\".concat(item.id), false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 49\n                    }, _this);\n                  }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(NoProductImg, {\n                      children: /*#__PURE__*/_jsxDEV(NoCartBag, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 53\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 49\n                    }, _this), /*#__PURE__*/_jsxDEV(NoProductMsg, {\n                      children: \"No products found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, _this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(CalculationWrapper, {\n                children: [/*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: \"Subtotal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: [\"£\", totalPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: \"Delivery Fee\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: ['£', \"0.00\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    children: \"Discount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(Text, {\n                    children: '£ 0.00'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(TextWrapper, {\n                  style: {\n                    marginTop: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Bold, {\n                    children: [\"Total\", /*#__PURE__*/_jsxDEV(Small, {\n                      children: \"( Incl. VAT )\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 45\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 41\n                  }, _this), /*#__PURE__*/_jsxDEV(Bold, {\n                    children: ['£', totalPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 41\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(CheckoutWithSidebar, \"+9Wlx/8gcPpVlsYIfJv8UHk7Pa8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = CheckoutWithSidebar;\nexport default CheckoutWithSidebar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"OrderItem\");\n$RefreshReg$(_c2, \"CheckoutWithSidebar\");","map":{"version":3,"sources":["C:/Users/2012b/WebstormProjects/ecommerce-MERN/client-new/src/features/checkouts/checkout.tsx"],"names":["React","useState","useEffect","Router","Scrollbars","CheckoutWrapper","CheckoutContainer","CheckoutInformation","CartWrapper","CalculationWrapper","OrderInfo","Title","ItemsWrapper","Items","Quantity","Multiplier","ItemInfo","Price","TextWrapper","Text","Bold","Small","NoProductMsg","NoProductImg","removeAllFromCart","NoCartBag","useDispatch","useSelector","calculateTotalPrice","MultiStepFormComponent","OrderItem","product","price","cartQuantity","id","name","CheckoutWithSidebar","token","deviceType","dispatch","cartState","state","cartReducer","handleSubmit","setLoading","isValid","push","loading","setIsValid","totalPrice","length","props","style","marginLeft","marginRight","paddingLeft","paddingRight","map","item","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Router from 'next/router';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport CheckoutWrapper, {\r\n    CheckoutContainer,\r\n    CheckoutInformation,\r\n\r\n    CartWrapper,\r\n    CalculationWrapper,\r\n    OrderInfo,\r\n    Title,\r\n    ItemsWrapper,\r\n    Items,\r\n    Quantity,\r\n    Multiplier,\r\n    ItemInfo,\r\n    Price,\r\n    TextWrapper,\r\n    Text,\r\n    Bold,\r\n    Small,\r\n    NoProductMsg,\r\n    NoProductImg,\r\n} from './checkout.style';\r\nimport {\r\n\r\n    removeAllFromCart\r\n} from \"@/redux/actions/cartActions\";\r\nimport {NoCartBag} from '@/assets/icons/NoCartBag';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {calculateTotalPrice} from \"@/utils/cartUtils\";\r\nimport MultiStepFormComponent from \"@/features/checkouts/MultiStepForm\";\r\n\r\n// The type of props Checkout Form receives\r\ninterface MyFormProps {\r\n    token: string;\r\n    deviceType: any;\r\n}\r\n\r\ntype CartItemProps = {\r\n    product: any;\r\n};\r\n\r\nconst OrderItem: React.FC<CartItemProps> = ({product}) => {\r\n    const {price, cartQuantity, id, name} = product;\r\n    return (\r\n        <Items key={id}>\r\n            <Quantity>{cartQuantity}</Quantity>\r\n            <Multiplier>x</Multiplier>\r\n            <ItemInfo>\r\n                {name}\r\n            </ItemInfo>\r\n            <Price>\r\n                {'£'}\r\n                {price}\r\n            </Price>\r\n        </Items>\r\n    );\r\n};\r\n\r\nconst CheckoutWithSidebar: React.FC<MyFormProps> = ({token, deviceType}) => {\r\n    const dispatch = useDispatch()\r\n    const cartState = useSelector((state: any) => state.cartReducer);\r\n\r\n    const handleSubmit = async () => {\r\n        setLoading(true);\r\n        if (isValid) {\r\n            dispatch(removeAllFromCart());\r\n            Router.push('/order-received');\r\n        }\r\n        setLoading(false);\r\n    };\r\n    const [loading, setLoading] = useState(false);\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n\r\n    const totalPrice = calculateTotalPrice(cartState)\r\n    useEffect(() => {\r\n        if (\r\n            totalPrice > 0 &&\r\n            cartState.length > 0\r\n        ) {\r\n            setIsValid(true);\r\n        }\r\n    }, [cartState]);\r\n\r\n    // Add or edit modal\r\n\r\n\r\n\r\n    return (\r\n        <form>\r\n            <CheckoutWrapper>\r\n                <CheckoutContainer>\r\n                    <CheckoutInformation>\r\n\r\n                        <MultiStepFormComponent price={totalPrice}/>\r\n\r\n                    </CheckoutInformation>\r\n\r\n                    <CartWrapper>\r\n                        <>\r\n                            <OrderInfo>\r\n                                <Title>\r\n                                    Your Order\r\n                                </Title>\r\n\r\n                                <Scrollbars\r\n                                    universal\r\n                                    autoHide\r\n                                    autoHeight\r\n                                    autoHeightMax='390px'\r\n                                    renderView={(props) => (\r\n                                        <div\r\n                                            {...props}\r\n                                            style={{\r\n                                                ...props.style,\r\n                                                marginLeft: 0,\r\n                                                marginRight: props.style.marginRight,\r\n                                                paddingLeft: 0,\r\n                                                paddingRight: 15,\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                >\r\n                                    <ItemsWrapper>\r\n                                        {cartState.length > 0 ? (\r\n                                            cartState.map((item) => (\r\n                                                <OrderItem key={`cartItem-${item.id}`} product={item}/>\r\n                                            ))\r\n                                        ) : (\r\n                                            <>\r\n                                                <NoProductImg>\r\n                                                    <NoCartBag/>\r\n                                                </NoProductImg>\r\n\r\n                                                <NoProductMsg>\r\n                                                    No products found\r\n                                                </NoProductMsg>\r\n                                            </>\r\n                                        )}\r\n                                    </ItemsWrapper>\r\n                                </Scrollbars>\r\n\r\n                                <CalculationWrapper>\r\n                                    <TextWrapper>\r\n                                        <Text>\r\n                                            Subtotal\r\n                                        </Text>\r\n                                        <Text>\r\n                                            {\"£\"}\r\n                                            {totalPrice}\r\n                                        </Text>\r\n                                    </TextWrapper>\r\n\r\n                                    <TextWrapper>\r\n                                        <Text>\r\n                                            Delivery Fee\r\n                                        </Text>\r\n                                        <Text>\r\n                                            {'£'}\r\n                                            0.00\r\n                                        </Text>\r\n                                    </TextWrapper>\r\n\r\n                                    <TextWrapper>\r\n                                        <Text>\r\n                                            Discount\r\n                                        </Text>\r\n                                        <Text>\r\n                                            {'£ 0.00'}\r\n\r\n                                        </Text>\r\n                                    </TextWrapper>\r\n\r\n                                    <TextWrapper style={{marginTop: 20}}>\r\n                                        <Bold>\r\n                                            Total\r\n                                            <Small>\r\n                                                (\r\n                                                Incl. VAT\r\n                                                )\r\n                                            </Small>\r\n                                        </Bold>\r\n                                        <Bold>\r\n                                            {'£'}\r\n                                            {totalPrice}\r\n                                        </Bold>\r\n                                    </TextWrapper>\r\n                                </CalculationWrapper>\r\n                            </OrderInfo>\r\n                        </>\r\n                    </CartWrapper>\r\n                </CheckoutContainer>\r\n            </CheckoutWrapper>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default CheckoutWithSidebar;\r\n"]},"metadata":{},"sourceType":"module"}