{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/tree-menu/tree-menu.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport { usePrevious, useMeasure } from '../../assets/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport { Button } from 'components/button/button';\nimport { ArrowNext } from 'assets/icons/ArrowNext';\nconst Tree = /*#__PURE__*/React.memo(({\n  children,\n  name,\n  icon,\n  // isOpen,\n  onClick,\n  dropdown,\n  onToggleBtnClick,\n  depth,\n  defaultOpen = false\n}) => {\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState(defaultOpen);\n  useEffect(() => {\n    setOpen(defaultOpen);\n  }, [defaultOpen]);\n  const previous = usePrevious(isOpen);\n  const [bind, {\n    height: viewHeight\n  }] = useMeasure();\n  const {\n    height,\n    opacity,\n    transform\n  } = useSpring({\n    from: {\n      height: 0,\n      opacity: 0,\n      transform: 'translate3d(20px,0,0)'\n    },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`\n    }\n  }); // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n  // @ts-ignore\n\n  const Icon = icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n    src: icon,\n    alt: \"Icon\",\n    style: {\n      width: '16px',\n      height: '16px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 29\n  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Invalid icon \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 99\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Frame, {\n    depth: depth,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      open: isOpen,\n      depth: depth,\n      className: depth,\n      children: [Icon !== null && /*#__PURE__*/_jsxDEV(IconWrapper, {\n        depth: depth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        onClick: onClick,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), dropdown === true && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setOpen(!isOpen),\n        variant: \"text\",\n        className: \"toggleButton\",\n        children: /*#__PURE__*/_jsxDEV(ArrowNext, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        opacity,\n        height: isOpen && previous === isOpen ? 'auto' : height\n      },\n      children: /*#__PURE__*/_jsxDEV(animated.div, _objectSpread(_objectSpread({\n        style: {\n          transform\n        }\n      }, bind), {}, {\n        children: children\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 13\n  }, this);\n});\nexport const TreeMenu = ({\n  data,\n  className,\n  onClick,\n  active\n}) => {\n  const handler = children => {\n    return children.map(subOption => {\n      if (subOption.subCategory.length > 0) {\n        return /*#__PURE__*/_jsxDEV(Tree, {\n          name: subOption.name,\n          icon: subOption.image,\n          depth: \"child\",\n          onClick: () => onClick(subOption.id),\n          defaultOpen: active === subOption.id\n        }, subOption.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(Tree, {\n        name: subOption.name,\n        icon: subOption.image,\n        dropdown: !subOption.subCategory.length ? false : true,\n        depth: \"parent\",\n        onClick: () => onClick(subOption.slug),\n        children: handler(subOption.subCategory)\n      }, subOption.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: handler(data.data)\n  }, void 0, false);\n};","map":{"version":3,"sources":["/home/hari/WebstormProjects/ecommerce-MERN/client-new/src/components/tree-menu/tree-menu.tsx"],"names":["React","useState","useEffect","usePrevious","useMeasure","useSpring","animated","Frame","Title","Content","Header","IconWrapper","Button","ArrowNext","Tree","memo","children","name","icon","onClick","dropdown","onToggleBtnClick","depth","defaultOpen","isOpen","setOpen","previous","bind","height","viewHeight","opacity","transform","from","to","Icon","width","TreeMenu","data","className","active","handler","map","subOption","subCategory","length","image","id","slug"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { usePrevious, useMeasure } from '../../assets/hooks';\nimport { useSpring, animated } from 'react-spring';\nimport { Frame, Title, Content, Header, IconWrapper } from './tree-menu.style';\nimport { Button } from 'components/button/button';\nimport { ArrowNext } from 'assets/icons/ArrowNext';\n\nimport * as Icons from 'assets/icons/category-icons';\nconst Tree = React.memo(\n    ({\n         children,\n         name,\n         icon,\n         // isOpen,\n         onClick,\n         dropdown,\n         onToggleBtnClick,\n         depth,\n         defaultOpen = false,\n     }: any) => {\n        const [isOpen, setOpen] = useState(defaultOpen);\n        useEffect(() => {\n            setOpen(defaultOpen);\n        }, [defaultOpen]);\n        const previous = usePrevious(isOpen);\n        const [bind, { height: viewHeight }] = useMeasure();\n        const { height, opacity, transform } = useSpring<any>({\n            from: { height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\n            to: {\n                height: isOpen ? viewHeight : 0,\n                opacity: isOpen ? 1 : 0,\n                transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`,\n            },\n        });\n        // const Icon = icon ? Icons[icon] : depth === 'child' ? Icons['Minus'] : null;\n        // @ts-ignore\n        const Icon = icon? (<img src={icon} alt=\"Icon\" style={{width:'16px',height:'16px'}}/> ): (<p>Invalid icon </p>);\n\n        return (\n            <Frame depth={depth}>\n                <Header open={isOpen} depth={depth} className={depth}>\n                    {Icon !== null && (\n                        <IconWrapper depth={depth}>\n                            {/*<Icon />*/}\n                        </IconWrapper>\n                    )}\n                    <Title onClick={onClick}>{name}</Title>\n\n                    {dropdown === true && (\n                        <Button\n                            onClick={() => setOpen(!isOpen)}\n                            variant='text'\n                            className='toggleButton'\n                        >\n                            <ArrowNext  />\n                        </Button>\n                    )}\n                </Header>\n                <Content\n                    style={{\n                        opacity,\n                        height: isOpen && previous === isOpen ? 'auto' : height,\n                    }}\n                >\n                    <animated.div style={{ transform }} {...bind} children={children} />\n                </Content>\n            </Frame>\n        );\n    }\n);\n\ntype Props = {\n    className?: any;\n    data: any;\n    onClick: (slug: string) => void;\n    active?: string | string[];\n};\nexport const TreeMenu: React.FC<Props> = ({\n                                              data,\n                                              className,\n                                              onClick,\n                                              active,\n                                          }) => {\n    const handler = (children:any) => {\n        return children.map((subOption:any) => {\n            if (subOption.subCategory.length>0) {\n                return (\n                    <Tree\n                        key={subOption.id}\n                        name={subOption.name}\n                        icon={subOption.image}\n                        depth='child'\n                        onClick={() => onClick(subOption.id)}\n                        defaultOpen={active === subOption.id}\n                    />\n                );\n            }\n            return (\n                <Tree\n                    key={subOption.id}\n                    name={subOption.name}\n                    icon={subOption.image}\n                    dropdown={!subOption.subCategory.length ? false : true}\n                    depth='parent'\n                    onClick={() => onClick(subOption.slug)}\n\n                >\n                    {handler(subOption.subCategory)}\n                </Tree>\n            );\n        });\n    };\n    return <>{handler(data.data)}</>;\n};\n"]},"metadata":{},"sourceType":"module"}